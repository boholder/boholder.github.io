;const throttle=(fn,wait)=>{let inThrottle,lastFn,lastTime;return function(){const context=this,args=arguments;if(!inThrottle){fn.apply(context,args);lastTime=Date.now();inThrottle=true;}else{clearTimeout(lastFn);lastFn=setTimeout(function(){if(Date.now()-lastTime>=wait){fn.apply(context,args);lastTime=Date.now();}},Math.max(wait-(Date.now()-lastTime),0));}};};const delayTime=420;;window.addEventListener("DOMContentLoaded",event=>{const backToTop=document.getElementById('back-to-top');if(backToTop!==null){window.addEventListener('scroll',throttle(function(){window.scrollY>100?backToTop.classList.add('show'):backToTop.classList.remove('show');},delayTime));}},{once:true});;const userPrefers=localStorage.getItem('theme');if(userPrefers==='dark'){changeModeMeta('dark');}else if(userPrefers==='light'){changeModeMeta('light');}
window.matchMedia('(prefers-color-scheme: dark)').addListener((e)=>{changeMode();});window.addEventListener("DOMContentLoaded",event=>{changeMode();const themeSwitcher=document.getElementById('theme-switcher');if(themeSwitcher){themeSwitcher.addEventListener('click',(e)=>{e.preventDefault();if(getCurrentTheme()=="dark"){changeModeMeta('light');}else{changeModeMeta('dark');}
changeMode();storePrefers();});}},{once:true});window.addEventListener('storage',function(event){if(event.key!=='theme'){return;}
if(event.newValue==='dark'){changeModeMeta('dark');}else{changeModeMeta('light');}
changeMode();});function getCurrentTheme(){return JSON.parse(window.getComputedStyle(document.documentElement,null).getPropertyValue("--theme-name"));}
function changeModeMeta(theme){document.documentElement.setAttribute('data-theme',theme);}
function changeMode(){const isDark=getCurrentTheme()==='dark';const themeColor=isDark?'#16171d':'#fff';document.querySelector('meta[name="theme-color"]').setAttribute('content',themeColor);if(typeof mermaidConfig!=='undefined'){const mermaids=document.querySelectorAll('.mermaid');mermaids.forEach(e=>{if(e.getAttribute('data-processed')){e.removeAttribute('data-processed');e.innerHTML=e.getAttribute('data-graph');}else{e.setAttribute('data-graph',e.textContent);}});if(isDark){mermaidConfig.theme='dark';mermaid.initialize(mermaidConfig);mermaid.init();}else{mermaidConfig.theme='default';mermaid.initialize(mermaidConfig);mermaid.init();}}}
function storePrefers(){window.localStorage.setItem('theme',getCurrentTheme());};window.addEventListener("DOMContentLoaded",event=>{const langSwitcher=document.getElementById('lang-switcher');if(langSwitcher){const langs=document.getElementById('langs');langSwitcher.addEventListener('mouseover',function(){langs.style='display: block';});langSwitcher.addEventListener('mouseout',function(){langs.style='display: none';});}},{once:true});;window.addEventListener("DOMContentLoaded",event=>{const copyText='Copy';const copiedText='Copied!';document.querySelectorAll('.post-body > pre').forEach((e)=>{let div=document.createElement('div');e.parentNode.replaceChild(div,e);div.appendChild(e);});function addCopyButtons(clipboard){const divs=document.querySelectorAll('table.lntable, .highlight > pre, .post-body > div > pre');divs.forEach((containerEl)=>{containerEl.parentNode.style.position='relative';const button=document.createElement('button');button.className='copy-button';button.type='button';button.innerText=copyText;if(containerEl.classList.contains('lntable')){var codeBlock=containerEl.querySelectorAll('.lntd')[1];}else{var codeBlock=containerEl.querySelector('code');}
button.addEventListener('click',()=>{clipboard.writeText(codeBlock.innerText).then(()=>{button.blur();button.innerText=copiedText;setTimeout(()=>{button.innerText=copyText;},1000);}).catch((error)=>{button.innerText='Error';console.error(error);});});containerEl.appendChild(button);containerEl.parentNode.addEventListener('mouseover',()=>{button.style='visibility: visible; opacity: 1';});containerEl.parentNode.addEventListener('mouseout',()=>{button.style='visibility: hidden; opacity: 0';});});}
if(navigator&&navigator.clipboard){addCopyButtons(navigator.clipboard);}else{const script=document.createElement('script');script.src='https://cdn.jsdelivr.net/npm/clipboard-polyfill@2.8.6/dist/clipboard-polyfill.min.js';script.defer=true;script.onload=function(){addCopyButtons(clipboard);};document.head.appendChild(script);}},{once:true});;